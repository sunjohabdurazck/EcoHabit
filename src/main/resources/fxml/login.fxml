<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="main.java.com.ecohabit.controller.LoginController">

   <!-- Center Content -->
   <center>
      <HBox alignment="CENTER" spacing="0">

         <!-- Left Branding Panel -->
         <VBox alignment="CENTER" prefWidth="400.0" spacing="20.0" style="-fx-background-color: linear-gradient(to bottom, #4CAF50, #2E7D32); -fx-text-fill: white;">
            <padding>
               <Insets top="50" bottom="50" left="40" right="40"/>
            </padding>

            <!-- Logo & Title -->
            <Label text="🌱" textAlignment="CENTER">
               <font>
                  <Font size="80"/>
               </font>
            </Label>
            <Label text="EcoHabit" textAlignment="CENTER" style="-fx-text-fill: white;">
               <font>
                  <Font name="System Bold" size="34"/>
               </font>
            </Label>
            <Label text="Track your sustainable journey" wrapText="true" textAlignment="CENTER" style="-fx-text-fill: white;">
               <font>
                  <Font size="16"/>
               </font>
            </Label>

            <Region VBox.vgrow="ALWAYS"/>

            <!-- Welcome Text -->
            <Label text="Welcome Back!" textAlignment="CENTER" style="-fx-text-fill: white;">
               <font>
                  <Font name="System Bold" size="24"/>
               </font>
            </Label>
            <Label text="Continue your eco-friendly journey 🌍" wrapText="true" textAlignment="CENTER" style="-fx-text-fill: white;">
               <font>
                  <Font size="14"/>
               </font>
            </Label>
         </VBox>

         <!-- Right Login Form Panel -->
         <VBox alignment="CENTER" prefWidth="500.0" spacing="25.0" style="-fx-background-color: #FFFFFF;">
            <padding>
               <Insets top="50" bottom="50" left="50" right="50"/>
            </padding>

            <!-- Title -->
            <Label text="Sign In" textAlignment="CENTER">
               <font>
                  <Font name="System Bold" size="30"/>
               </font>
            </Label>
            <Label text="Enter your credentials to access your account" wrapText="true" textAlignment="CENTER">
               <font>
                  <Font size="14"/>
               </font>
            </Label>

            <!-- Status Message -->
            <VBox fx:id="statusContainer" alignment="CENTER" managed="false" visible="false" style="-fx-background-color: #FFEBEE; -fx-border-color: #E53935; -fx-border-radius: 5; -fx-background-radius: 5;">
               <padding>
                  <Insets top="10" bottom="10" left="15" right="15"/>
               </padding>
               <Label fx:id="statusMessage" wrapText="true" textAlignment="CENTER" style="-fx-text-fill: #C62828;">
                  <font>
                     <Font size="13"/>
                  </font>
               </Label>
            </VBox>

            <!-- Email Field -->
            <VBox spacing="5.0">
               <Label text="Email Address">
                  <font>
                     <Font name="System Bold" size="14"/>
                  </font>
               </Label>
               <TextField fx:id="emailField" promptText="Enter your email address"/>
               <Label fx:id="emailErrorLabel" text="" visible="false" managed="false" style="-fx-text-fill: red;">
                  <font>
                     <Font size="12"/>
                  </font>
               </Label>
            </VBox>

            <!-- Password Field -->
            <VBox spacing="5.0">
               <Label text="Password">
                  <font>
                     <Font name="System Bold" size="14"/>
                  </font>
               </Label>
               <HBox spacing="5.0" alignment="CENTER_LEFT">
                  <PasswordField fx:id="passwordField" promptText="Enter your password" HBox.hgrow="ALWAYS"/>
                  <TextField fx:id="visiblePasswordField" promptText="Enter your password" visible="false" managed="false" HBox.hgrow="ALWAYS"/>
                  <Button fx:id="togglePasswordButton" text="👁"/>
               </HBox>
               <Label fx:id="passwordErrorLabel" text="" visible="false" managed="false" style="-fx-text-fill: red;">
                  <font>
                     <Font size="12"/>
                  </font>
               </Label>
            </VBox>

            <!-- Forgot Password -->
            <Hyperlink fx:id="forgotPasswordLink" text="Forgot Password?" />

            <!-- Login Button -->
            <HBox alignment="CENTER" spacing="10.0">
               <Button fx:id="loginButton" text="Sign In" maxWidth="Infinity" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold;" HBox.hgrow="ALWAYS"/>
               <ProgressIndicator fx:id="loginProgress" maxWidth="24" maxHeight="24" visible="false" managed="false"/>
            </HBox>

            <!-- Divider -->
            <VBox alignment="CENTER" spacing="10.0">
               <Separator prefWidth="200"/>
               <Label text="or continue with">
                  <font>
                     <Font size="12"/>
                  </font>
               </Label>
            </VBox>

            <!-- Google Sign In -->
            <Button fx:id="googleSigninButton" text="🔍 Continue with Google" maxWidth="Infinity" style="-fx-background-color: #FFFFFF; -fx-border-color: #BDBDBD; -fx-font-size: 14; -fx-font-weight: bold;"/>

            <!-- Sign Up -->
            <HBox alignment="CENTER" spacing="5.0">
               <Label text="Don't have an account?"/>
               <Hyperlink fx:id="signupLink" text="Sign Up"/>
            </HBox>

            <!-- Footer -->
            <VBox alignment="CENTER" spacing="3.0">
               <Label text="EcoHabit v1.0.0" style="-fx-text-fill: gray;">
                  <font>
                     <Font size="11"/>
                  </font>
               </Label>
               <Label text="© 2025 EcoHabit. All rights reserved." style="-fx-text-fill: gray;">
                  <font>
                     <Font size="10"/>
                  </font>
               </Label>
            </VBox>
         </VBox>
      </HBox>
   </center>
</BorderPane>
